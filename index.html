<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>JS WTF - Rappels, Bonnes pratique et conseils</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/beige.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
        document.write('<link rel="stylesheet" href="css/print/' + ( window.location.search.match(/print-pdf/gi) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">');
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
        <section>

            <h1> Js WTF ?! </h1>

            <h3>rappels, bonnes pratiques, conseils</h3>

            <p>
                <small>par <a href="http://borisschapira.com" title="BorisSchapira.com, site web de Boris Schapira">Boris
                    Schapira</a> / <a href="http://twitter.com/borisschapira"
                                      title="Twitter de Boris Schapira">@borisschapira</a>
                </small>
            </p>

        </section>

        <section>
            <section>
                <h2>Javascript</h2>
                <h3>Hier et aujourd'hui</h3>
            </section>
            <section>
                <h2>Histoire</h2>
                <ul>
                    <li>Inventé par <a href="https://twitter.com/BrendanEich">Brendan Eich</a></li>
                    <li>Présenté pour la première fois en 1985 (inclus dans Netscape 2 en 1995)</li>
                    <li>Dernière version : <a
                            href="https://developer.mozilla.org/fr/docs/Web/JavaScript/New_in_JavaScript/1.8.5">1.8.5</a>
                    </li>
                    <li>Supporté par tous les navigateurs principaux :
                        <img alt="Navigateurs principaux : Chrome, Firefox, IE, Opera et Safari"
                             src="img/main-browsers.png">
                    </li>
                    <li>Supporté par de nombreux périphériques "exotiques"</li>
                </ul>
                <aside class="notes">
                    D'abord appelé Mocha puis LiveScript, c’est suite à un accord entre Sun et Netscape qu’il prendra le
                    nom
                    définitif de Javascript.
                    Microsoft s'engouffre rapidement dans la brèche du langage dédié aux interactions avec JScript en
                    1996, ce
                    qui pousse Netscape à faire normaliser JS par l'ECMA en juin 1997.
                </aside>
            </section>
            <section>
                <h2>Aujourd'hui</h2>

                <p>Un des langages les plus populaires au monde</p>

                <p>Les moteurs d’exécution Javascript se séparent de plus en plus des navigateurs et deviennent des
                    technologies stand-alone :
                <ul>
                    <li>V8 : Chrome, Node.js</li>
                    <li>JägerMonkey : Firefox</li>
                    <li>SquirrelFish/Nitro : Safari</li>
                    <li>Chakra : IE9+, Windows 8.*</li>
                </ul>
                </p>
                <aside class="notes">
                    <ul>
                        <li>Populaire au sens : très utilisé et très discuté, comme C#, Java, PHP, C++, Objective C,
                            Python, C,
                            Ruby, Perl et le Shell <a
                                    href="http://www.dataists.com/2010/12/ranking-the-popularity-of-programming-langauges/"
                                    title="Ranking the popularity of programming languages | Dataists.com">d'après
                                Dataists</a>.
                        </li>
                        <li>ECMAScript en est à sa 5ème édition (6ème avec Harmony).</li>
                        <li>JägerMonkey : sucesseur de SpiderMonkey (de Brendan Eich) puis TraceMonkey, utilisé sur
                            Firefox 4.*
                        </li>
                    </ul>
                </aside>
            </section>
            <section data-background="img/tessel_so_small_620.png">
                <aside class="notes">
                    Tessel est un microcontrôleur tournant sous Javascript. Une multitude de modules (thermomètre,
                    caméra,
                    accéléromètre, servomoteur...) sont en développement. Compatible avec node et npm.
                </aside>
            </section>
        </section>

        <section>
            <section>
                <h2>Le langage</h2>
                <h3>Rappels de fonctionnement</h3>
            </section>
            <section>
                <h2>Javascript</h2>

                <ul>
                    <li>Variables, fonctions, objets, instructions, opérateurs...</li>
                    <li>Sensible à la casse, délimiteurs<code>;</code></li>
                    <li>Nommage des variables : des symbôles spécifiques sont tolérés, comme <code>$</code> ou
                        <code>_</code>. Utilisez-les à bon escient, par exemple pour distinguer vos variables jQuery
                        (<code>$variable</code>) ou avoir une information de portée (
                        <code>_internalVar</code>).
                    </li>
                </ul>
            </section>
            <section>
                <h2>Variables</h2>

                <p>Typage faible</p>
                    <pre><code data-trim contenteditable>
function(){
    var _i = 10;
    typeof _i; // "number"

    _i = "dix";
    typeof _i; // "string"
}
                    </code></pre>

                <p>Portée et Hoisting</p>
                    <pre><code data-trim contenteditable>
var testVar = "Variable globale";

function example() {
    alert(testVar); // undefined

    var testVar = "Variable locale";
    alert(testVar); // "Variable locale"
}

example();
                    </code></pre>
                <aside class="notes">
                    <ul>
                        <li>Javascript est typé. Il bascule juste d'un type à l'autre sans problème</li>
                        <li>La portée des variables se rapporte aux fonctions. Les délimiteurs de boucles et de tests
                            conditionnels NE DELIMITE PAS la portée des variables
                        </li>
                        <li>A l'exécution, toutes les déclarations de variables sont déplacées au début de la fonction.
                            De facto, il est souvent conseillé de placer toutes les déclarations de variables en début
                            de fonction, de manière à éviter les confusions
                        </li>
                    </ul>
                </aside>
            </section>
            <section>
                <h2>Variables</h2>

                <p>Déclarations</p>
                    <pre><code data-trim contenteditable>
// Déclarations multiples
var maVariable1,
    maVariable2 = 15,
    maVariable3;

// Déclarations de variables égales
var maVariable1 = maVariable2 = 15;
                    </code></pre>

                <p>Référence vs. copie</p>
                    <pre><code data-trim contenteditable>
var a = 3.14;   // Déclare et initialise une variable
var b = a;      // copie le contenu de a dans b
a = 4;          // modifie la valeur de a
alert(b);       // la copie n'a pas changé : 3.14

var a = [1,2];  // Initialise une variable avec un tableau
var b = a;      // copie la référence dans une nouvelle variable
a[0] = 99;      // modifie le tableau selon la référence
alert(b);       // affiche le tableau modifié : [99,2]
                    </code></pre>
                <aside class="notes">
                    <ul>
                        <li>Javascript est typé. Il bascule juste d'un type à l'autre sans problème</li>
                        <li>La portée des variables se rapporte aux fonctions. Les délimiteurs de boucles et de tests
                            conditionnels NE DELIMITE PAS la portée des variables
                        </li>
                        <li>A l'exécution, toutes les déclarations de variables sont déplacées au début de la fonction.
                            De facto, il est souvent conseillé de placer toutes les déclarations de variables en début
                            de fonction, de manière à éviter les confusions
                        </li>
                    </ul>
                </aside>
            </section>
            <section>
                <h2>Correspondances booléennes</h2>

                <p>Tests d'existence</p>
                    <pre><code data-trim contenteditable>
true  == 1 == "chaine" == objet
false == 0 == "" == null == undefined
                    </code></pre>

                <p>... ce qui permet de tester avant d'utiliser un objet</p>
                    <pre><code data-trim contenteditable>
if (undefined != monObjet) {
   // utilisation de mon objet
}

// équivaut à
if (monObjet) {
    // utilisation de mon objet
}

// équivaut à
monObjet && // utilisation de mon objet
                    </code></pre>
                <aside class="notes">
                    <ul>
                        <li>Javascript est typé. Il bascule juste d'un type à l'autre sans problème</li>
                        <li>La portée des variables se rapporte aux fonctions. Les délimiteurs de boucles et de tests
                            conditionnels NE DELIMITE PAS la portée des variables
                        </li>
                        <li>A l'exécution, toutes les déclarations de variables sont déplacées au début de la fonction.
                            De facto, il est souvent conseillé de placer toutes les déclarations de variables en début
                            de fonction, de manière à éviter les confusions
                        </li>
                    </ul>
                </aside>
            </section>
            <section>
                <h2>Fonctions</h2>

                <p>Nommées</p>
                    <pre><code data-trim contenteditable>
function sheldon() {
    alert("Bazinga!");
}
sheldon();
                    </code></pre>
                <p>Anonymes</p>
                    <pre><code data-trim contenteditable>
var sheldon = function() {
    alert("Bazinga!");
}
sheldon();
                    </code></pre>
                <aside class="notes">
                    Attention, les syntaxes nommées et anonymes s'utilisent de la même manière, mais ne sont pas équivalentes. Une fonction anonyme n'a pas de nom (logique), ce qui peut entrainer des problèmes d'identification lorsque vous débogguez ou que vous essayez de développer du code récursif.
                    Si vous avez le choix, préférez les fonctions nommées. Quand utiliser des fonctions anonymes ? Quand vous créez un objet, un tableau, quand vous passez pas un callback...
                </aside>
            </section>
            <section>
                <h2>Programmation Orientée Objet</h2>

                <p>Savoir si Javascript est orienté Objet a autant de sens que de savoir si Nantes est en Bretagne.</p>
                <p></p>
            </section>
        </section>
        <section>
            <section>
                <h2>Pièges courants</h2>
                <h3>Autant les éviter</h3>
            </section>
            <section>
                <h2>Nombres</h2>
                <p>Maximum, minimum</p>
                <pre><code>
var x = 9007199254740992; // Max
var y = -x;
x == x + 1; // true
y == y - 1; // true

z = x + 2; // 9007199254740994, ok
z - 1; // 9007199254740992, WTF ?
                </code></pre>
                <p>Opérateurs arithmétiques en 64bits, décalages et opérations bit à bit en 32 bits seulement</p>
                <pre><code>
var x = 9007199254740992; // 2^53, [10000000....00]
x / 2;      // 4503599627370496, ok
x >> 1;     // 0 au lieu de 2^52
x | 1;      // 1 au lieu de 2^52 + 1
                </code></pre>
            </section>
        </section>
        <section>
            <section>
                <h2>Frameworks</h2>
                <h3>et librairies</h3>
            </section>
            <section>
                <h2><a href="http://jquery.com/">jQuery</a></h2>
                <p>Framework rapide, compact et gérant très bien l'asynchrone de <a href="https://twitter.com/jeresig">John Resig</a>, ayant remporté un grand succès, principalement parce qu'il a été adopté par les intégrateurs HTML.</p>
                <p>Souvent utilisé pour faire des choses simples. Au lieu de les faire simplement.</p>
                <pre><code>
// jQuery
$(el).hide();
$(el).show();   // Ajoute un "display:block", WTF ?!

// IE8+
el.style.display = 'none';
el.style.display = '';      // Ne fait que ce que vous lui demandez
                </code></pre>
            </section>
            <section>
                <h2>Autres Frameworks généraux</h2>
                <ul>
                    <li><a href="http://yuilibrary.com/">YUI</a> : librairie de composants de Yahoo!</li>
                    <li><a href="http://zeptojs.com/">ZeptoJS</a> : framework très minimaliste ayant la particularité de proposer un sous ensemble de l'API jQuery. Peut habilement remplacer ce dernier, mais attention à la compatibilité navigateur.</li>
                    <li><a href="http://zeptojs.com/">Dojo Toolkit</a> : librairie de composants dont le développement est sponsorisé par IBM et SitePen</li>
                </ul>
            </section>
            <section>
                <h2>Frameworks pour applications riches</h2>
                <ul>
                    <li><a href="http://backbonejs.org/">Backbone.js</a> : Framework MV* très populaire de <a href="https://twitter.com/jashkenas">Jeremy Ashkenas</a>.</li>
                    <li><a href="http://emberjs.com/">Ember.js</a> : Framework MV* de <a href="https://twitter.com/wycats">Yehuda Katz</a>, par ailleurs contributeur jQuery et Ruby On Rails.</li>
                    <li><a href="http://knockoutjs.com/">Knockout.js</a> : un des seuls Frameworks applicatifs MVVM</li>
                    <li><a href="http://angularjs.org/">Ext JS</a> : librairie de componsants de Sencha.</li>
                    <li><a href="http://angularjs.org/">Angular.js</a> : polyfill HTML5+, par Google.</li>
                </ul>
            </section>
            <section>
                <h2>Autres librairies à connaitre</h2>
                <ul>
                    <li><a href="https://code.google.com/p/html5shiv/">HTML5shiv.js</a> : polyfill HTML5 créé par <a href="https://twitter.com/sjoerd_visscher">Sjoerd Visscher</a>, maintenu par <a href="https://github.com/aFarkas">Alexander Farkas</a>.</li>
                </ul>
            </section>
            <section>
                <h2>Ces librairies sont trop génériques ?</h2>
                <p>Jetez un oeil à <a href="http://microjs.com">MicroJS</a> et ses micro-librairies (inférieures à 5Ko) rendant chacune un service très précis.</p>
                <p><a href="http://microjs.com">MicroJS</a> est <a href="https://github.com/madrobby/microjs.com">sur GitHub</a> et n'importe qui peut y ajouter son script licencié MIT ou équivalent.</p>
                <p>Exemple : <a href="https://github.com/borisschapira/preloadr">preloadr.js</a></p>
            </section>
        </section>
        <section>
            <h1>FIN</h1>

            <h3>ça vous a plu ?</h3>
            <small>par <a href="http://borisschapira.com" title="BorisSchapira.com, site web de Boris Schapira">Boris
                Schapira</a> / <a href="http://twitter.com/borisschapira" title="Twitter de Boris Schapira">@borisschapira</a>
            </small>
        </section>

    </div>

</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.min.js"></script>

<script>

    // Full list of configuration options available here:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Parallax scrolling
        // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
        // parallaxBackgroundSize: '2100px 900px',

        // Optional libraries used to extend on reveal.js
        dependencies: [
            { src: 'lib/js/classList.js', condition: function () {
                return !document.body.classList;
            } },
            { src: 'plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            } },
            { src: 'plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            } },
            { src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            } },
            { src: 'plugin/zoom-js/zoom.js', async: true, condition: function () {
                return !!document.body.classList;
            } },
            { src: 'plugin/notes/notes.js', async: true, condition: function () {
                return !!document.body.classList;
            } }
        ]
    });

</script>

</body>
</html>
